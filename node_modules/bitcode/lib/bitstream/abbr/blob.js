"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const assert = require("assert");
const buffer_1 = require("buffer");
const operand_1 = require("./operand");
const LEN_WIDTH = 6;
const BYTE_WIDTH = 8;
const DWORD_WIDTH = 32;
class Blob extends operand_1.Operand {
    constructor() {
        super();
    }
    encode(writer, value) {
        assert(buffer_1.Buffer.isBuffer(value), 'Blob expected Buffer value');
        const buf = value;
        writer.writeVBR(buf.length, LEN_WIDTH);
        writer.align(DWORD_WIDTH);
        // TODO(indutny): optimize
        for (const ch of buf) {
            writer.writeBits(ch, BYTE_WIDTH);
        }
        writer.align(DWORD_WIDTH);
    }
}
exports.Blob = Blob;
//# sourceMappingURL=blob.js.map