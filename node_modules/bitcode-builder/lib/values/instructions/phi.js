"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const assert = require("assert");
const types_1 = require("../../types");
const base_1 = require("./base");
class Phi extends base_1.Instruction {
    constructor(edgeOrTy) {
        super(edgeOrTy instanceof types_1.Type ? edgeOrTy : edgeOrTy.value.ty, 'phi', []);
        this.privEdges = [];
        if (!(edgeOrTy instanceof types_1.Type)) {
            this.addEdge(edgeOrTy);
        }
    }
    get edges() {
        return this.privEdges;
    }
    addEdge(edge) {
        assert(this.ty.isEqual(edge.value.ty), 'Type mismatch for Phi edge');
        this.operands.push(edge.fromBlock, edge.value);
        this.privEdges.push(edge);
    }
}
exports.Phi = Phi;
//# sourceMappingURL=phi.js.map