"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const base_1 = require("./base");
class Struct extends base_1.Constant {
    constructor(ty, fields) {
        super(ty);
        this.fields = fields;
    }
    isEqual(to) {
        if (this === to) {
            return true;
        }
        if (!to.isStruct()) {
            return false;
        }
        const toStruct = to;
        return toStruct.ty.isEqual(this.ty) &&
            toStruct.fields.length === this.fields.length &&
            toStruct.fields.every((field, i) => field.isEqual(this.fields[i]));
    }
    toString() {
        // TODO(indutny): print more
        return '[struct]';
    }
}
exports.Struct = Struct;
//# sourceMappingURL=struct.js.map